<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<title>Qa</title>
	<link rel="stylesheet" href="style_fileUpload.css">
</head>

<header>
	<center>
		<h1>Speer QA Interview Question</h1>
	</center>
</header>
<style>
	    header {
        position: fixed;
        color: white;
        width: 100%;
        height: 70px;
        background-color: #8dc21f;
    }
</style>

<br>
<br>
<br>

<body>
<div>
<form name="fileUpload_form">
<div id="upFileWrap">
	<div id="inputFile">
		<!-- Drag & Drop Area -->
		<p id="dropArea">Please drop file(s) here <br>OR</p>

		<!-- input[type=file] -->
		<div id="inputFileWrap">
			<input type="file" name="uploadFile" id="uploadFile">
			<div id="btnInputFile"><span>Select file(s)</span></div>
			<div id="btnChangeFile"><span>Change files(s)</span></div>
		</div>
		<br>
		<br>
		<div>
		<p style="color:grey">
			JPG, PNG or PDF only, maximum file size-5MB
		</p>
		</div>
	</div>
	<div class="button-container">
		<button type="button" onClick="logout();">Logout</button>
		<button type="button" onClick="submit();">Submit</button>
	</div>

	<!-- Images groups - All the selected images will be shown here -->
	<p class="text-red-700 text-sm hidden" id="filesize-error">
		The file size should be less than 5mb
	</p>
	<p class="text-red-700 text-sm hidden" id="filetype-error">
		The file should be an image or pdf only
	</p>
	
	<!-- No document selected -->
	<p class="hidden text-xl text-red-600 text-center bg-pink-200 mt-6 p-3 rounded-lg" id="input-empty-error"></p>
	<!-- Showing all the files inside this list -->
	<ul id="document-images" class="mt-6 px-3 bg-slate-100"></ul>
	</div>
</form>

<script>
	// ドラッグ&ドロップエリアの取得
	var fileArea = document.getElementById('dropArea');

	// input[type=file]の取得
	var fileInput = document.getElementById('uploadFile');

	// ドラッグオーバー時の処理
	fileArea.addEventListener('dragover', function(e){
	e.preventDefault();
	fileArea.classList.add('dragover');
	});

	// ドラッグアウト時の処理
	fileArea.addEventListener('dragleave', function(e){
	e.preventDefault();
	fileArea.classList.remove('dragover');
	});

	// ドロップ時の処理
	fileArea.addEventListener('drop', function(e){
	e.preventDefault();
	fileArea.classList.remove('dragover');

	// ドロップしたファイルの取得
	var files = e.dataTransfer.files;

	// 取得したファイルをinput[type=file]へ
	fileInput.files = files;

	if(typeof files[0] !== 'undefined') {
	//ファイルが正常に受け取れた際の処理
		alert("Success: D&D\nFile Name: " 
			+ files[0].name + "\nFile Type: " + files[0].size + "\nFile Size: " + files[0].type);
	} else {
	//ファイルが受け取れなかった際の処理
		alert("Fialed: Something went wrong when drag and drop file(s)");
	}
	});

	// input[type=file]に変更があれば実行
	// もちろんドロップ以外でも発火します
	fileInput.addEventListener('change', function(e){
	var file = e.target.files[0];

	if(typeof e.target.files[0] !== 'undefined') {
	// ファイルが正常に受け取れた際の処理
		//alert("Success: SF\nFile Name: " + files[0].name + "\nFile Size: " + files[0].size );
		alert("Success: SF\nFile Name: " 
			+ e.target.files[0].name + "\nFile Type: " + e.target.files[0].type + "\nSize: " + e.target.files[0].size);
	} else {
	// ファイルが受け取れなかった際の処理
		alert("Fialed: Something went wrong when selecting file(s)");
	}
	}, false);


	// Logout Function
	function logout() {
		location.href =  "index.html";
	};
	// Submit Function
	function submit() {
		alart(test);
		location.href = "index.html";
	};
</script>

</div>
</div>
</body>
</html>